!function(){"use strict";angular.module("ngYDrag",[]).directive("ngYDragItems",["$document","$timeout",function(a,b){return{restrict:"A",scope:{ngYDragItems:"=",ngYDragStart:"&?",ngYDragBefore:"&?",ngYDragAfter:"&?"},controller:["$scope","$element",function(b,c){function d(a){g&&g.css({top:a+"px"})}function e(a){o||(o=!0,b.ngYDragStart&&b.ngYDragStart({movingItem:h}));var e=a.clientY-m,f=e>0;if(k=b.ngYDragItems.indexOf(h),!(k<0)){0==k&&e<=0&&(e=0),k==b.ngYDragItems.length-1&&e>=0&&(e=0),d(e),e=Math.abs(e);var p=(g[0].offsetHeight,0);if(l=k+(f?1:-1),!(l<0||l>b.ngYDragItems.length-1)){var q=c.children(".ng-y-drag");q&&(i=q.eq(l),i&&i.length&&(p=i[0].offsetHeight)),p&&(e<=p||(j=b.ngYDragItems[l],b.$apply(function(){var c=!0;b.ngYDragBefore&&(c=b.ngYDragBefore({movingItem:h,swappingItem:j})),c&&(b.ngYDragItems[k]=j,b.ngYDragItems[l]=h,n++,m=a.clientY,d(0))})))}}}function f(c){b.ngYDragAfter&&n>0&&b.ngYDragAfter({movingItem:h,swappingItem:j}),d(0),a.unbind("mousemove",e),a.unbind("mouseup",f),g.removeClass("active"),n=0}var g,h,i,j,k,l,m=0,n=0,o=!1;this.setMovingItem=function(b,c,d){g=b,h=c,m=d,b.addClass("active"),a.bind("mousemove",e),a.bind("mouseup",f)}}]}}]).directive("ngYDragItem",["$timeout",function(a){return{restrict:"A",require:"^ngYDragItems",scope:{ngYDragItem:"=",ngYDragLocked:"=?"},link:function(b,c,d,e){function f(){return b.ngYDragItem&&!b.ngYDragLocked}c.bind("mousedown",function(a){f()&&(a.preventDefault(),e.setMovingItem(c,b.ngYDragItem,a.clientY))}),a(function(){c.addClass("ng-y-drag")})}}}])}();